<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Hexo + GitPage博客搭建</title>
      <link href="2020/09/20/build-blog/"/>
      <url>2020/09/20/build-blog/</url>
      
        <content type="html"><![CDATA[<h4 id="前备环境"><a href="#前备环境" class="headerlink" title="前备环境"></a>前备环境</h4><ul><li>Git</li><li>Node.js</li></ul><h4 id="安装Hexo"><a href="#安装Hexo" class="headerlink" title="安装Hexo"></a>安装Hexo</h4><blockquote><p><code>npm install -g hexo-cli</code></p></blockquote><h4 id="初始化Blog"><a href="#初始化Blog" class="headerlink" title="初始化Blog"></a>初始化Blog</h4><blockquote><p><code>hexo init  Myblog</code>       #会在当前目录下生成Myblog目录，即博客目录。</p></blockquote><h4 id="安装依赖模块"><a href="#安装依赖模块" class="headerlink" title="安装依赖模块"></a>安装依赖模块</h4><blockquote><p><code>cd Myblog</code></p><p><code>npm install</code>     #根据Myblog目录下的package.json安装所需的模块。如hexo-server等。</p></blockquote><p>目录、文件结构说明：</p><blockquote><p>Myblog</p><p>​        I— node_modules            # 存放模块的目录。</p><p>​        |— scaffolds                       # 文章、页面模板。</p><p>​        |— source                           # 存放文章的目录。</p><p>​        |— themes                          # 存放Hexo主题的目录。</p><p>​        |— .gitignore                      </p><p>​        |— _config.yml                   #Hexo主配置文件，如网站Title、主题等配置。</p><p>​        |— package.json                #依赖说明文件。</p><p>​        |__ package-lock.json</p></blockquote><h4 id="安装主题"><a href="#安装主题" class="headerlink" title="安装主题"></a>安装主题</h4><p>主题在Hexo主配置文件<code> _config.yml</code>中的<code>theme</code>配置项中设置。</p><blockquote><p><code>cd Myblog/themes/</code></p><p>git clone <a href="https://github.com/blinkfox/hexo-theme-matery.git">https://github.com/blinkfox/hexo-theme-matery.git</a></p></blockquote><h4 id="额外插件"><a href="#额外插件" class="headerlink" title="额外插件"></a>额外插件</h4><p><strong>a.代码高亮</strong></p><blockquote><p><code>npm i -S hexo-prism-plugin</code></p></blockquote><p>修改Hexo主配置文件<code> _config.yml</code>：</p><pre><code>highlight:     #关闭hexo自带的代码高亮  enable: falseprism_plugin:    #新增这部分配置以启用prism高亮插件。  mode: &#39;preprocess&#39;    # realtime/preprocess  theme: &#39;tomorrow&#39;  line_number: false    # default false  custom_css:</code></pre><p><strong>b.字数统计</strong></p><blockquote><p><code>npm i --save hexo-wordcount</code></p></blockquote><p>在主题的配置文件<code> _config.yml</code>中启用字数统计：</p><pre><code>postInfo:  wordCount: true      # 文章字数统计  totalCount: true      # 站点总文章字数</code></pre><p><strong>c.搜索插件</strong></p><blockquote><p><code>npm install hexo-generator-search --save</code></p></blockquote><p>在Hexo的主配置文件<code> _config.yml</code>中新增以下内容：</p><pre><code>search:  path: search.xml  field: post</code></pre><h4 id="新增分类、关于我等页面"><a href="#新增分类、关于我等页面" class="headerlink" title="新增分类、关于我等页面"></a>新增分类、关于我等页面</h4><p>具体页面配置，见<a href="https://github.com/blinkfox/hexo-theme-matery/blob/develop/README_CN.md">主题说明</a>。</p><blockquote><p>hexo new page “categories”</p><p>hexo new page “tags”</p><p>hexo new page “about”</p></blockquote><h4 id="部署到GitPages"><a href="#部署到GitPages" class="headerlink" title="部署到GitPages"></a>部署到GitPages</h4><p>安装将博客到部署到Git的插件</p><blockquote><p>npm install hexo-deployer-git –save</p></blockquote><p>配置Git信息</p><blockquote><p>git config –global user.email “<a href="mailto:&#121;&#111;&#117;&#x40;&#x65;&#120;&#97;&#109;&#112;&#108;&#x65;&#x2e;&#x63;&#111;&#x6d;">&#121;&#111;&#117;&#x40;&#x65;&#120;&#97;&#109;&#112;&#108;&#x65;&#x2e;&#x63;&#111;&#x6d;</a>“<br>git config –global user.name “a4ua”</p></blockquote><p>在Hexo的主配置文件中配置：</p><pre><code>deploy:  type: &#39;git&#39;  repo:  https://github.com/a4ua/a4ua.github.io</code></pre><p>部署命令</p><blockquote><p>hexo  d</p></blockquote><h4 id="评论系统Valine"><a href="#评论系统Valine" class="headerlink" title="评论系统Valine"></a>评论系统Valine</h4><p><code>hexo-theme-matery</code>主题自带了Valine评论系统，在主题配置文件中启用即可</p><pre><code>valine:  enable: true  appId:   appKey: </code></pre><p>appID和appKey需要去注册，<a href="https://www.leancloud.cn/">注册连接</a>。</p><h4 id="自定义域名"><a href="#自定义域名" class="headerlink" title="自定义域名"></a>自定义域名</h4><p>到Github上的博客仓库的<code>settings</code>，进入并找到<code>Custom Domain</code>，输入框填入自己的域名即可。</p><img src="/2020/09/20/build-blog/image-20200922210232252.png" alt="image-20200922210232252" style="zoom:67%;"><p>然后在<code>source</code>目录下创建一个文件，名称为<code>CNAME</code>，文件无后缀。文件的内容写入域名，如：<code>a4ua.com</code>,作用是避免每次部署博客时，上一步在Github仓库设置的自定义域名会被重置。</p><h4 id="Hexo常用命令"><a href="#Hexo常用命令" class="headerlink" title="Hexo常用命令"></a>Hexo常用命令</h4><p>启动本地Hexo服务器</p><blockquote><p>cd Myblog</p><p>hexo  s     #服务器默认监听在<a href="http://localhost:4000/">http://localhost:4000</a></p></blockquote><p>创建新的文章</p><blockquote><p>hexo new  “title”    #根据scaffolds\post.md模板生成文章。</p></blockquote><p>渲染</p><blockquote><p>hexo g        #渲染会生成一个public文件夹，里面存放渲染好的博客文件。</p></blockquote><p>部署</p><blockquote><p>hexo d     #将博客部署到GitPage，实质是上传public文件夹到github对应仓库。</p></blockquote><p>清理缓存</p><blockquote><p>hexo clean</p></blockquote>]]></content>
      
      
      <categories>
          
          <category> 教程 </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
